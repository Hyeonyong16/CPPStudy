# 포인터
## const
```
const int data = 0;

data = 100;  // 에러 발생
```
const 의 경우 최초 한번만 값을 세팅하고 변경되지 않길 바라는 경우 사용
1. 변수 선언 시 const를 붙이면 해당 변수는 상수로 취급한다.
2. 초기화 시점에 값을 한번만 세팅할 수 있다.

## const와 포인터 활용
```
const int data = 0;
int* pInt = (int*)&data;

*pInt = 100;
```
const로 선언한 변수도 포인터로 가져오면 값을 변경 가능
1. const 변수 선언
2. 해당 변수 타입의 포인터 변수 선언
3. const 변수를 포인터 변수와 동일한 자료형으로 캐스팅
4. 값 변경

### 포인터로 const 변수 값을 바꿀 시
```
const int data = 0;
int* pInt = (int*)&data;

*pInt = 100;

printf("%d", data);    // 100이 아닌 0 출력
```
포인터를 통해 const 변수 값을 바꾼 후 printf 를 통해 출력 시 100 이 아닌 기존의 0 이 출력

컴파일러 최적화 과정에서 레지스터에는 기존의 값으로 저장되어 있는 0을 그대로 쓰기 때문 
1. **실제 주소까지 가서 값을 읽어오지 않음**
2.  컴파일러에서 자주 쓰이는 변수를 자동으로 레지스터에 저장해서 수행 속도를 높이는 최적화 기법

#### 해결법
```
volatile const int data = 0;
```
volatile의 경우 진짜 주소로 가서 값을 확인하라는 의미 (레지스터 최적화를 통해 확인 X)
